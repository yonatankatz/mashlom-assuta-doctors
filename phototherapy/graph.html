<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Responsive Graph</title>

</head>
<body>
<div style="max-width:400; max-height: 400px;">
  <canvas id="myChart"></canvas>
</div>

<script src="../3rd-party/chartjs/chart.js"></script>
<script src="../3rd-party/chartjs/chartjs-plugin-annotation.js"></script>


<script>
  const ctx = document.getElementById('myChart');

var percentile40DataPoints = [
      {x: 0, y: NaN}, { x: 12, y: 4.0 }, { x: 16, y: 4.4 }, { x: 20, y: 4.7 },
      { x: 24, y: 4.9 }, { x: 28, y: 5.5 }, { x: 32, y: 6.3 },
      { x: 36, y: 7.0 }, { x: 40, y: 7.7 }, { x: 44, y: 8.2 },
      { x: 48, y: 8.6 }, { x: 52, y: 9.0 }, { x: 56, y: 9.3 },
      { x: 60, y: 9.6 }, { x: 64, y: 10.2 }, { x: 68, y: 10.7 },
      { x: 72, y: 11.2 }, { x: 76, y: 11.3 }, { x: 80, y: 11.4 },
      { x: 84, y: 11.6 }, { x: 88, y: 11.8 }, { x: 92, y: 12.2 },
      { x: 96, y: 12.3 }, { x: 100, y: 12.5 }, { x: 104, y: 12.7 },
      { x: 108, y: 12.8 }, { x: 112, y: 13.0 }, { x: 116, y: 13.1 },
      { x: 120, y: 13.2 }, { x: 124, y: 13.2 }, { x: 128, y: 13.2 },
      { x: 132, y: 13.2 }, { x: 136, y: 13.2 }, { x: 140, y: 13.2 },
      { x: 144, y: 13.2 }, { x: 148, y: 13.2 }
    ];
    var labelsPercentile40 = [];
    var valuesPercentile40 = [];
    for (i = 0; i < percentile40DataPoints.length; ++i) {
        labelsPercentile40.push(percentile40DataPoints[i].x);
        valuesPercentile40.push(percentile40DataPoints[i].y);
    }

    var percentile75DataPoints = [
      {x: 0, y: NaN}, { x: 12, y: 5.0 }, { x: 16, y: 5.5 }, { x: 20, y: 5.9 },
      { x: 24, y: 6.1 }, { x: 28, y: 7.0 }, { x: 32, y: 8.0 },
      { x: 36, y: 8.9 }, { x: 40, y: 9.9 }, { x: 44, y: 10.3 },
      { x: 48, y: 10.8 }, { x: 52, y: 11.3 }, { x: 56, y: 12.0 },
      { x: 60, y: 12.6 }, { x: 64, y: 12.9 }, { x: 68, y: 13.1 },
      { x: 72, y: 13.4 }, { x: 76, y: 13.8 }, { x: 80, y: 14.3 },
      { x: 84, y: 14.7 }, { x: 88, y: 14.7 }, { x: 92, y: 15.0 },
      { x: 96, y: 15.2 }, { x: 100, y: 15.3 }, { x: 104, y: 15.4 },
      { x: 108, y: 15.5 }, { x: 112, y: 15.6 }, { x: 116, y: 15.7 },
      { x: 120, y: 15.8 }, { x: 124, y: 15.7 }, { x: 128, y: 15.6 },
      { x: 132, y: 15.5 }, { x: 136, y: 15.4 }, { x: 140, y: 15.3 },
      { x: 144, y: 15.2 }, { x: 148, y: 15.3 }
    ];
    var labelsPercentile75 = [];
    var valuesPercentile75 = [];
    for (i = 0; i < percentile75DataPoints.length; ++i) {
        labelsPercentile75.push(percentile75DataPoints[i].x);
        valuesPercentile75.push(percentile75DataPoints[i].y);
    }


    var percentile95DataPoints = [
      {x: 0, y: NaN}, { x: 12, y: 7.0 }, { x: 16, y: 7.2 }, { x: 20, y: 7.4 },
      { x: 24, y: 7.8 }, { x: 28, y: 8.9 }, { x: 32, y: 10.0 },
      { x: 36, y: 11.1 }, { x: 40, y: 12.2 }, { x: 44, y: 12.5 },
      { x: 48, y: 13.2 }, { x: 52, y: 13.8 }, { x: 56, y: 14.4 },
      { x: 60, y: 15.2 }, { x: 64, y: 15.4 }, { x: 68, y: 15.6 },
      { x: 72, y: 15.9 }, { x: 76, y: 16.2 }, { x: 80, y: 16.4 },
      { x: 84, y: 16.7 }, { x: 88, y: 17.0 }, { x: 92, y: 17.2 },
      { x: 96, y: 17.4 }, { x: 100, y: 17.4 }, { x: 104, y: 17.5 },
      { x: 108, y: 17.5 }, { x: 112, y: 17.5 }, { x: 116, y: 17.6 },
      { x: 120, y: 17.7 }, { x: 124, y: 17.6 }, { x: 128, y: 17.5 },
      { x: 132, y: 17.4 }, { x: 136, y: 17.4 }, { x: 140, y: 17.3 },
      { x: 144, y: 17.3 }, { x: 148, y: 17.4 }
    ];
    var labelsPercentile95 = [];
    var valuesPercentile95 = [];
    for (i = 0; i < percentile95DataPoints.length; ++i) {
        labelsPercentile95.push(percentile95DataPoints[i].x);
        valuesPercentile95.push(percentile95DataPoints[i].y);
    }


const data = {
  labels: labelsPercentile40,
  datasets: [
    {
      data: valuesPercentile95,
      borderColor: 'black',
      fill: false,
      label: '',
      cubicInterpolationMode: 'monotone',
      tension: 0.4,
      pointRadius: 0 // Hide points
    },
    {
      data: valuesPercentile75,
      borderColor: 'black',
      fill: false,
      cubicInterpolationMode: 'monotone',
      tension: 0.4,
      pointRadius: 0 // Hide points
    },
    {
      data: valuesPercentile40,
      borderColor: 'black',
      fill: false,
      cubicInterpolationMode: 'monotone',
      tension: 0.4,
      pointRadius: 0 // Hide points
    }  ]
};

const config = {
  type: 'line',
  data: data,
  options: {
    responsive: true,
    plugins: {
      title: {
        display: true,
        text: 'עקומת בוטאני'
      },
      legend: {
        display: false // Hide legend
      },
      annotation: {
            annotations: [{
                type: 'point',
                xScaleID: 'x',
                yScaleID: 'y',
                xValue: 48,
                yValue: 15,
                backgroundColor: 'rgba(255, 99, 132, 0.8)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1,
                radius: 5
            }]
      },
      tooltip: {
        rtl: true,
        textDirection: 'rtl',
        interaction: {
            mode: 'nearest',
            axis: 'xy'
        },
        callbacks: {
            title: function(context) {
                return '';
            },
            label: function(context) {
                return '';
            },
            afterLabel: function(context) {
                return "גיל: " + context.label + ", בילירובין: " + context.formattedValue;
            }
        }
      }
    },
    interaction: {
      intersect: false,
    },
    scales: {
      x: {
        type: 'linear',
        display: true,
        title: {
          display: true,
	      text: 'גיל בשעות'
        }
      },
      y: {
        type: 'linear',
        display: true,
        title: {
          display: true,
	      text: 'בילירובין'
        },
      }
    }
  },
}; 
  new Chart(ctx, config);
</script>
</style>
</body>
</html>
