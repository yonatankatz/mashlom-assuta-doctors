<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>צהבת ביילוד - אסותא אשדוד</title>
<link rel="icon" href="../assets/favicon.svg">
<link href="../3rd-party/bootstrap/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="../3rd-party/fontawesome/fontawesome-free-6.5.1-web/css/all.min.css">
<link rel="stylesheet" href="../common/css/common.css">
<link rel="stylesheet" href="css/phototherapy.css">
</head>
<body ng-app="app" ng-controller="PhototherapyController as ctrl" >
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J85BPCEQ2Y"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-J85BPCEQ2Y');
</script>
<div id="phototherapy-main" class="container phototherapy-main-content">  
<div id="calculator"  ng-show="ctrl.dataShown=='CALCULATOR'" >
  <div class="group-container">
    <form>
      <div class="container">
        <div class="row form-group">
            <div class="col fs-3 input-caption">
                <h1 style="width:80%;float:right;">צהבת ביילוד</h1>
            </div>
            <div class="col reset-button">
                <span ng-click="ctrl.resetAll()"><img style="cursor:pointer; width: 35px; height: 35px;margin-right:10px; " src="../assets/refresh.png"></span>
            </div>        
        </div>
        <div class="row form-group">
            <div class="col-auto fs-3 input-caption col-auto-buttons-cols">
                שבוע לידה:
            </div>
            <div class="col">
                <button type="button" class="btn btn-outline-secondary" ng-class="{ 'checked-button': ctrl.weekOfBirth == 'above38' }" ng-click="ctrl.selectWeekOfBirth('above38')">+38</button>
                <button type="button" class="btn btn-outline-secondary" ng-class="{ 'checked-button': ctrl.weekOfBirth == 'under38' }" ng-click="ctrl.selectWeekOfBirth('under38')">35-37</button>
            </div>            
          </div>
        <div class="row form-group">
            <div class="col-auto fs-3 input-caption col-auto-buttons-cols">
                 גורם סיכון
                 <i style="cursor: pointer;vertical-align: top;" ng-click="ctrl.openRiskyConditions()" class="fa-solid fa-circle-info fs-5 info"></i>
                 :
            </div>
            <div class="col" >
                <button type="button" class="btn btn-outline-secondary" ng-class="{ 'checked-button': ctrl.hasRiskFactors }" ng-click="ctrl.selectRiskFactor(true)">קיים</button>
                <button type="button" class="btn btn-outline-secondary" ng-class="{ 'checked-button': !ctrl.hasRiskFactors }" ng-click="ctrl.selectRiskFactor(false)">לא קיים</button>
            </div>
        </div>        
        <div class="row form-group">
            <div class="col-auto fs-3 input-caption col-auto-text-cols">
                בילירובין (mg/dl):
            </div>
            <div class="col">
                <input ng-change="ctrl.changedValue()" inputmode="decimal" type="text" pattern="[0-9.]{0,4}" maxlength="4" style="max-width: 90px;" ng-model="ctrl.bilirubin" class="form-control" id="bilirubin" max="50" select-on-click >
            </div>
        </div>        
        <div class="row form-group">
            <div class="col-auto fs-3 input-caption col-auto-text-cols">
                גיל (שעות):
            </div>
            <div class="col">
                <input ng-change="ctrl.changedValue()" inputmode="decimal" type="text" pattern="[0-9]{0,3}" maxlength="3" style="max-width: 90px;" ng-model="ctrl.ageInHours" class="form-control" id="ageInHours" select-on-click >
            </div>
        </div>        
      </div>
    </form>
  </div>
  <div class="cards-container row row-cols-1 row-cols-md-1 g-4" >
    <div class="col">
      <div class="card">
        <div class="card-body" ng-show="ctrl.allInputsSatisfied()">
          <h3 class="card-title"><span class="circle" ng-style="ctrl.statusColor"></span>{{ctrl.rootDiagnose}} <span style="font-size: 0.8rem;"> {{ctrl.distanceFromCurve}} </span></h3>
          <p class="card-text">היילוד <span>{{ctrl.riskZoneObj['percentileString']}}</span> באיזור סיכון <span>{{ctrl.riskZoneObj['riskZone']}}</span>.<br> {{ctrl.riskZoneObj['explanation']}}.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
<graphs ng-show="ctrl.dataShown=='GRAPH_UNDER_38'" ></graphs>
<graphs ng-show="ctrl.dataShown=='GRAPH_38+'"></graphs>
<graphs ng-show="ctrl.dataShown=='GRAPH_BUTANI'"></graphs>
<risks ng-show="ctrl.dataShown=='RISKS'" ></risks>
</div>  
<footer class="text-center text-white footer">
  <div class="footer-container">
    <div id="footer-menu">
      <a class="footer-button" ng-click="ctrl.openRiskyConditions()">
        <div style="color: #404040;"><i class="fa-solid fa-bed-pulse"></i></div>
        <div class="text">גורמי סיכון</div>
      </a>
    </div>
    <a class="footer-button" ng-click="ctrl.openGraph('GRAPH_38+', 'assets/graph-week-38.png')">
        <div style="color: #404040;" >+<i class="fa-solid fa-chart-line">38</i></div>
        <div class="text">גרף שבוע 38+</div>
      </a>
      <a class="footer-button" ng-click="ctrl.openGraph('GRAPH_UNDER_38', 'assets/graph-week-under-38.png')">
        <div style="color: #404040;"><i class="fa-solid fa-chart-line">37</i></div>
        <div class="text">גרף שבוע 35-37</div>
      </a>
      <a class="footer-button" ng-click="ctrl.openGraph('GRAPH_BUTANI', 'assets/butani.png')">
        <div style="color: #404040;"><i class="fa-solid fa-chart-gantt"></i></div>
        <div class="text">עקומת בוטאני</div>
      </a>
    </div>
  </div>
</footer>
<script src="../3rd-party/angularjs/angular.min.js"></script>
<script src="../3rd-party/bootstrap/bootstrap.bundle.min.js"></script>
<script src="js/calculation.js"></script>
<script src="js/phototherapy.js"></script>
</body>
</html>